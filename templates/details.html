{% extends 'base.html' %}
{% load static %}

{% block css %}
<style>
  .card{
    border-radius: 5px;
    height: 550px;
  }
</style>
{% endblock %}

{% block content %}
{% include 'navbar.html' %}
<div class="container">
  <div class="row">
    <div class="col-md-6 jumbotron card">
      <div id="face">
        <button type="button" class="btn btn-default btn-lg pull-right">
          <span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Edit
        </button>
        <h1>{{ obj.entity }}</h1>
        <hr/>
        <p>Contact Information: {{ obj.number }}</p>
        <p><a class="btn btn-primary btn-lg pull-right" onclick="display('back','face')" role="button">Details >></a></p>
      </div>
      <div id="back">
        <h2>Additional Details</h2>
        <hr/>
        <p>Address: {{ obj.st_one }}</p>
        <p>{{ obj.st_two }}</p>
        <p>Area: {{ obj.city }} {{ obj.area }}</p>
        <p>Zipcode: {{ obj.zipcode }}</p>
        <p>Price:
          {% if obj.low == 0 and obj.high == 0 %}
            {{ obj.cost_notes }}
          {% else %}
            ${{ obj.low }} - ${{ obj.high }}
          {% endif %}
        </p>
        <p>Residency: {% if obj.rooms %}Rooms {% endif %}
                      {% if obj.one_br %}1BR{% endif %}
                      {% if obj.two_br %}2BR{% endif %}
                      {% if obj.three_br %}3BR{% endif %}
                      {% if obj.studio %}Studio{% endif %}
        </p>
        <p><a class="btn btn-primary btn-lg pull-right" onclick="display('face','back')" role="button"><< Back</a></p>
      </div>
    </div>

    <div class="col-md-6">
      <iframe class="maps hidden-xs hidden-sm"
        width="100%"
        frameborder="1" style="border:1"
        src="https://www.google.com/maps/embed/v1/place?key=AIzaSyBBGMWyQJaeXAyGJAOch_SCutThTW3dtnc
          &q={{ obj.st_one }}" allowfullscreen>
      </iframe>
      <a class="btn btn-success btn-lg visible-sm-block visible-xs-block" href="http://maps.google.com/?q={{ obj.st_one }}" role="button">Take me to Google Maps</a>
    </div>
  </div>
</div>
{% endblock %}

{% block js %}
<script type="text/javascript">
  $(document).ready(function() {
      $('#multiselect').multiselect();
      $('.maps').css('height', $(window).height()+'px');
      document.getElementById("face").style.display = "";
      document.getElementById("back").style.display = "none";
      $(".num-input").keydown(function(e) {
          if($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110]) !== -1 ||
            (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||
            (e.keyCode == 67 && (e.ctrlKey === true || e.metaKey === true)) ||
            (e.keyCode == 88 && (e.ctrlKey === true || e.metaKey === true)) ||
            (e.keyCode >= 35 && e.keyCode <= 39)){
              return;
          }
          if((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)){
              e.preventDefault();
          }
      });
  });



  function display(show, hide) {
    document.getElementById(show).style.display = "";
    document.getElementById(hide).style.display = "none";

  }

</script>
{% endblock %}
